{{ define "main" }}

{{ $Pages := .Pages }}

{{ if .IsHome }}
  {{ $Pages = where site.RegularPages "Type" "in" .Site.Params.mainSections }}
{{ end }}

{{ if .Site.Params.excerpts }}


{{- range $Pages }}
<article>
  <header>
    {{ if .Date }}<time datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}">{{ .Date.Format "January 02, 2006" }}</time>{{ end }}
  </header>
  {{ .Summary }}
  {{- if .Truncated }}
    <div class="more"><a href="{{ .RelPermalink }}">read more</a></div>
  {{- end }}
</article>
{{- end }}

{{ else }}

<article>
  <style>
    .list-text {
      font-family: Arial, Helvetica, sans-serif;
      font-size: 1em;
    }

    .title {
      font-size: 1.4em;
      color: #000000;
      font-weight: bold;
    }
  
    .post-list {
      list-style-type: none;
    }

    .title:hover {
      border-radius: 0.5em;
      background-color: black;
      color: #f5ae08;
      padding: 0.4em;
      margin-left: 1em;
    }

  </style>
  <ul>
    {{- range $Pages }}
    <li class="post-list">
      <a class="title" href="{{ .Permalink }}">{{ .Title }}</a>
      <p class="list-text">{{ if .Date }}<time datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}">{{ .Date.Format "2006-01-02" }}</time>{{ end }}</p>
      
    </li>
    {{- end }}
  </ul>
  {{ .Content }}
</article>
<p>
</p>

{{ end }}

{{ end }}